<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" style="display:flex;height:100%;flex-direction:column;">
<head>
    <meta charset="utf-8" />
    <title>ESP32-CAM Remote Control & Autonomous Driving</title>
    <base href='./' />
    <link rel="stylesheet" href="https://nukcanon.github.io/nukcanon/css/style.css" />
    <script type="module" src="https://unpkg.com/esp-web-tools@9.0.3/dist/web/install-button.js?module"></script>
    <style>
        .step-list li {
            margin-bottom: 15px;
            font-size: 1.05em;
        }
        .step-desc {
            display: block;
            font-size: 0.9em;
            color: #555;
            margin-top: 5px;
            margin-left: 5px;
        }
        .file-group {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 5px;
            margin-top: 5px;
        }
        .file-group a {
            display: block;
            margin: 5px 0;
            text-decoration: none;
            color: #007bff;
        }
        .file-group a:hover {
            text-decoration: underline;
        }
        /* 테이블 스타일 */
        .wiring-table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        .wiring-table th, .wiring-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .wiring-table th {
            background-color: #f2f2f2;
            font-weight: bold;
            text-align: center;
        }
        .wiring-table tr:nth-child(even) {background-color: #f9f9f9;}
        
        /* 설치 버튼 스타일 */
        esp-web-install-button {
            display: inline-block;
            margin-top: 10px;
        }
    </style>
</head>
<body style="padding-bottom:3px;align-items:center">
    <div class="topbanner">
        <div style="align-self:stretch;width:960px;display:flex; flex-direction: row;">
            <div style="flex:99999">
                <label>Nukcanon</label>
            </div>
            <div>
                <a target="_self" href="https://nukcanon.github.io/nukcanon/index.html">Home</a>
            </div>
        </div>
    </div>

    <div style="margin: auto; padding: 0px 6px 36px; max-width: 960px;">
        <div class='navfoldercontainer'>
            <div class='navfolder'>
                <h2>ESP32-CAM 자율주행 자동차 만들기<br>
                [ 원격 제어 & 자율주행 기초 수업 ]</h2>
            </div>
        </div>
    </div>

    <div style="margin: auto; padding: 0px 6px 36px; max-width: 960px;">
        <div class='navfoldercontainer'>
            <div class='navfolder'>
                <h3>Step 1. 하드웨어 연결 및 기초 모터 제어</h3>
            </div>
            <div style="padding: 20px; line-height: 1.6;">
                <p>자율주행차의 기본이 되는 L298N 모터 드라이버 사용법을 익힙니다. (ESP32 보드에 업로드)</p>
                <ol class="step-list">
                    <li>
                        <strong>[ 회로도 ]</strong>
                        <div style="text-align: center; margin-top: 10px; margin-bottom: 20px;">
                            <img src="https://nukcanon.github.io/ESP32-CAM_remote_control/ESP32_autonomous_driving_회로도.jpg" alt="ESP32 자율주행차 회로도" style="width:100%; max-width:700px; border: 1px solid #ccc; border-radius:5px;">
                        </div>
                    </li>
                    <li>
                        <strong>[ 배선 연결표 ]</strong>
                        
                        <p style="font-weight: bold; margin-top: 15px;">1. ESP32 연결 기준 (메인 컨트롤러)</p>
                        <table class="wiring-table">
                            <thead>
                                <tr>
                                    <th width="20%">ESP32 핀</th>
                                    <th width="25%">연결 대상</th>
                                    <th width="20%">대상의 핀</th>
                                    <th>역할 및 설명</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GPIO 13</td>
                                    <td>ESP32-CAM</td>
                                    <td>GPIO 13</td>
                                    <td>시리얼 통신 (송수신)</td>
                                </tr>
                                <tr>
                                    <td>GPIO 14</td>
                                    <td>ESP32-CAM</td>
                                    <td>GPIO 14</td>
                                    <td>시리얼 통신 (송수신)</td>
                                </tr>
                                <tr>
                                    <td>GPIO 16</td>
                                    <td>L298N</td>
                                    <td>IN 1</td>
                                    <td>오른쪽 바퀴 전진 (+) 신호</td>
                                </tr>
                                <tr>
                                    <td>GPIO 17</td>
                                    <td>L298N</td>
                                    <td>IN 2</td>
                                    <td>오른쪽 바퀴 후진 (-) 신호</td>
                                </tr>
                                <tr>
                                    <td>GPIO 21</td>
                                    <td>L298N</td>
                                    <td>IN 3</td>
                                    <td>왼쪽 바퀴 전진 (+) 신호</td>
                                </tr>
                                <tr>
                                    <td>GPIO 22</td>
                                    <td>L298N</td>
                                    <td>IN 4</td>
                                    <td>왼쪽 바퀴 후진 (-) 신호</td>
                                </tr>
                                <tr>
                                    <td>+5V (VIN)</td>
                                    <td>L298N</td>
                                    <td>+5V</td>
                                    <td>L298N에서 전원을 받아 ESP32 켜짐</td>
                                </tr>
                                <tr>
                                    <td>+5V (VIN)</td>
                                    <td>ESP32-CAM</td>
                                    <td>5V</td>
                                    <td>ESP32-CAM으로 전원 공급</td>
                                </tr>
                                <tr>
                                    <td>GND</td>
                                    <td>L298N & CAM</td>
                                    <td>GND</td>
                                    <td>모든 장치의 공통 기준 전압 (접지)</td>
                                </tr>
                            </tbody>
                        </table>

                        <p style="font-weight: bold; margin-top: 20px;">2. L298N 및 배터리 연결 기준</p>
                        <table class="wiring-table">
                            <thead>
                                <tr>
                                    <th width="25%">L298N 단자</th>
                                    <th width="30%">연결 대상</th>
                                    <th>설명</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>12V (입력)</td>
                                    <td>배터리 (+)</td>
                                    <td>모터 구동용 주 전원 (7V 이상 권장)</td>
                                </tr>
                                <tr>
                                    <td>GND (공통)</td>
                                    <td>배터리 (-)</td>
                                    <td>배터리 마이너스 (ESP32 GND와도 연결됨)</td>
                                </tr>
                                <tr>
                                    <td>+5V (출력)</td>
                                    <td>ESP32 +5V</td>
                                    <td>ESP32와 ESP32-CAM을 켜주는 전원 출력</td>
                                </tr>
                                <tr>
                                    <td>OUT 1, 2</td>
                                    <td>오른쪽 모터들</td>
                                    <td>오른쪽 앞바퀴 + 뒷바퀴 선을 꼬아서 연결</td>
                                </tr>
                                <tr>
                                    <td>OUT 3, 4</td>
                                    <td>왼쪽 모터들</td>
                                    <td>왼쪽 앞바퀴 + 뒷바퀴 선을 꼬아서 연결</td>
                                </tr>
                            </tbody>
                        </table>
                    </li>
                    <li>
                        <strong>모터 하나 제어하기</strong>
                        <span class="step-desc">모터가 정상적으로 회전하는지 확인합니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/one_motor.ino" download>💾 one_motor.ino</a>
                        </div>
                    </li>
                    <li>
                        <strong>양쪽 모터 제어하기</strong>
                        <span class="step-desc">전진, 후진, 좌회전, 우회전 등 차량의 기본 움직임을 만듭니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/two_motor.ino" download>💾 two_motor.ino</a>
                        </div>
                    </li>
                    <li>
                        <strong>버튼으로 조종하기</strong>
                        <span class="step-desc">물리 버튼을 연결하여 자동차를 직접 움직여봅니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/button_drive.ino" download>💾 button_drive.ino</a>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
    </div>

    <div style="margin: auto; padding: 0px 6px 36px; max-width: 960px;">
        <div class='navfoldercontainer'>
            <div class='navfolder'>
                <h3>Step 2. 스마트폰/웹 브라우저 무선 조종</h3>
            </div>
            <div style="padding: 20px; line-height: 1.6;">
                <p>ESP32(차체)와 ESP32-CAM(눈)을 시리얼 통신으로 연결하고, 스마트폰으로 조종합니다.</p>
                <ol class="step-list">
                    <li>
                        <strong>[ESP32 본체] 시리얼 제어 코드</strong>
                        <span class="step-desc">이 코드는 <b>ESP32 Dev Module</b>에 업로드합니다. CAM에서 오는 신호를 받아 모터를 움직입니다. <br>※ 두 파일을 모두 다운받아 같은 폴더에 넣어야 합니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/rc_car_by_serial.ino" download>💾 rc_car_by_serial.ino (메인)</a>
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/motor_control.ino" download>💾 motor_control.ino (모터 함수)</a>
                            <br>
                            <esp-web-install-button manifest="manifest1.json"></esp-web-install-button>
                        </div>
                    </li>
                    <li>
                        <strong>[ESP32-CAM] 웹 스트리밍 및 컨트롤러</strong>
                        <span class="step-desc">이 코드는 <b>ESP32-CAM</b>에 업로드합니다. 웹 서버를 열어 영상과 조종 버튼을 제공합니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/video_streaming_by_web.ino" download>💾 video_streaming_by_web.ino</a>
                            <br>
                            <esp-web-install-button manifest="manifest2.json"></esp-web-install-button>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
    </div>

    <div style="margin: auto; padding: 0px 6px 36px; max-width: 960px;">
        <div class='navfoldercontainer'>
            <div class='navfolder'>
                <h3>Step 3. 컴퓨터(Python) 연결 및 데이터 수집</h3>
            </div>
            <div style="padding: 20px; line-height: 1.6;">
                <p>웹 브라우저 대신 컴퓨터(Python)와 연결하여 영상을 분석하고 자율주행을 준비하는 단계입니다.</p>
                <ol class="step-list">
                    <li>
                        <strong>[ESP32-CAM] 텔넷 스트리밍 코드</strong>
                        <span class="step-desc">웹 페이지 대신 PC 프로그램으로 영상을 쏘아주는 코드입니다. <br>※ 3개의 파일을 모두 같은 폴더에 넣고 업로드하세요.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/video_streaming_by_telnet.ino" download>💾 video_streaming_by_telnet.ino (메인)</a>
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/camera.h" download>💾 camera.h (카메라 설정)</a>
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/pins.h" download>💾 pins.h (핀 설정)</a>
                            <br>
                            <esp-web-install-button manifest="manifest3.json"></esp-web-install-button>
                        </div>
                    </li>
                    <li>
                        <strong>[PC/노트북] 파이썬 조종 프로그램</strong>
                        <span class="step-desc">주피터 노트북으로 실행합니다. 키보드로 RC카를 조종하며 카메라 영상을 PC 화면으로 확인합니다.</span>
                        <div class="file-group">
                            <a href="https://nukcanon.github.io/ESP32-CAM_remote_control/video_keyboard_telnet_driving.ipynb" download>💾 video_keyboard_telnet_driving.ipynb (주피터 노트북)</a>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
    </div>

</body>
</html>
